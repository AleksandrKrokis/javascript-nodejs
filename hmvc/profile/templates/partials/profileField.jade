include /bem

+b('form').profile-field._editable(
  novalidate
  progress="loadingTracker.active()"
  progress-overlay
  name="form"
  ng-submit="submit()"
  ng-click="edit()"
  ng-class="{'profile-field_editing': editing}"
)
  +e.content
    +e.name {{title}}:
    +e.value(ng-bind="value")
  +e.change(ng-show="editing")
    +e.change-content
      +e.labeled
        +e('label').labeled-label {{title}}:
        +b.text-input._small.__control(ng-class="{'text-input_invalid':!form.$valid}")
          div(control-transclude)
            //- ng-transclude comes here
            //- directive content will be appended here with current scope, not parent scope!
          +e(ng-show="form.input.$error.required").err Значение не должно быть пустым.
          +e(ng-show="form.input.$error.minlength").err Значение слишком короткое.

    +e.ok-cancel
      +b('button')(type="submit" progress="loadingTracker.active()" progress-spinner="{elemClass:'submit-button_progress',size:'small'}").submit-button._small.__save
        +e('span').text Сохранить
      +e('button').cancel(type="button" ng-click="cancel()") Отмена
